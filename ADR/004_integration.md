# ADR 004: Интеграции с внешними сервисами и устройствами

## Контекст
Система должна интегрироваться с фитнес-устройствами, платежными системами и сторонними API.

## Варианты решения
1. Использовать REST API для всех интеграций  
2. Использовать gRPC для внутренних сервисов и REST для внешних  
3. Использовать событийную архитектуру с брокером сообщений (Kafka)

## Принятое решение
Комбинировать REST API для внешних интеграций и событийную архитектуру с Kafka для внутренних коммуникаций.

## Обоснование
- REST API широко поддерживается внешними сервисами.  
- Kafka обеспечивает надежную и масштабируемую асинхронную коммуникацию между микросервисами.  
- Такой подход повышает гибкость и отказоустойчивость.

## Последствия
- Увеличение сложности инфраструктуры.  
- Требуется мониторинг и управление брокером сообщений.