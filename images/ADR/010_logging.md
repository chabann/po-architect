# ADR 010: Подход к логированию и мониторингу системы

## Контекст
Для быстрого обнаружения и устранения проблем требуется централизованное логирование и мониторинг.

## Варианты решения
1. ELK Stack (Elasticsearch, Logstash, Kibana)  
2. Prometheus + Grafana  
3. Коммерческие решения (Datadog, New Relic)

## Принятое решение
Использовать ELK Stack для логирования и Prometheus + Grafana для мониторинга метрик.

## Обоснование
- ELK обеспечивает мощный поиск и визуализацию логов.  
- Prometheus + Grafana — стандарт для мониторинга метрик и алертинга.  
- Открытые решения с активным сообществом.

## Последствия
- Требуется настройка и поддержка инфраструктуры.  
- Необходимость обучения команды.


# ADR: Подход к логированию и мониторингу системы

## Контекст  
Для обеспечения стабильности, быстрого обнаружения и устранения проблем в системе необходимо организовать централизованное логирование и мониторинг. Логи должны содержать структурированную информацию о действиях пользователей, ошибках, производительности и безопасности.

## Варианты решения

1. **ELK Stack (Elasticsearch, Logstash, Kibana)**  
   - Позволяет собирать, индексировать и визуализировать логи в реальном времени.  
   - Поддерживает сложные поисковые запросы и агрегации.  
   - Широко используется, имеет развитое сообщество.

2. **Prometheus + Grafana**  
   - Фокусируется на сборе метрик и мониторинге состояния системы.  
   - Отлично подходит для алертинга и визуализации метрик.  
   - Не предназначен для хранения и анализа полнотекстовых логов.

3. **Коммерческие решения (Datadog, Loggly, Splunk)**  
   - Предлагают интегрированные возможности логирования, мониторинга и трассировки.  
   - Обеспечивают удобный UI и поддержку масштабируемых инфраструктур.  
   - Имеют высокую стоимость и зависят от внешних сервисов.

## Принятое решение  
Использовать **ELK Stack** для централизованного логирования и анализа логов, а **Prometheus + Grafana** — для мониторинга метрик и алертинга. При необходимости интегрировать с GitLab логами для полного покрытия.

## Обоснование  
- ELK обеспечивает мощный поиск и визуализацию, что позволяет быстро находить причины сбоев и анализировать поведение системы.  
- Prometheus отлично справляется с мониторингом состояния и позволяет настроить своевременные оповещения.  
- Разделение логирования и мониторинга повышает устойчивость и гибкость системы.

## Последствия  
- Требуется выделенная инфраструктура для ELK и Prometheus.  
- Необходимость настройки и поддержки конвейеров сбора, индексации и хранения данных.  
- Возможны дополнительные затраты на ресурсы и лицензии (при использовании коммерческих решений).